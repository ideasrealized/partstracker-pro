<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Debug Console - Reusable Component</title>
</head>
<body>
    <!-- 
    =============================================================================
    MOBILE DEBUG CONSOLE - REUSABLE COMPONENT
    =============================================================================
    
    üéØ PURPOSE: 
    - See console.log() output directly on mobile devices
    - No need for USB debugging or desktop DevTools
    - Perfect for field testing and mobile-only debugging
    
    üì± USAGE:
    1. Copy the CSS and HTML sections below into your project
    2. Copy the JavaScript functions at the bottom
    3. Tap "üîç Debug" button on mobile to toggle console
    
    ‚ú® FEATURES:
    - Auto-captures console.log() and console.error()
    - Timestamps all messages
    - Scrollable output with message limit
    - High z-index to appear above modals
    - Only visible on mobile screens
    - Easy toggle on/off
    
    =============================================================================
    -->

    <style>
        /* =================================================================== */
        /* MOBILE DEBUG CONSOLE CSS - Copy this to your project's CSS */
        /* =================================================================== */
        
        .mobile-debug-console {
            position: fixed;
            top: 10px;
            right: 10px;
            width: 300px;
            max-height: 200px;
            background: rgba(0,0,0,0.9);
            color: #00ff00;
            font-family: monospace;
            font-size: 10px;
            padding: 10px;
            border-radius: 5px;
            overflow-y: auto;
            z-index: 99999; /* Above all modals */
            display: none;
            border: 1px solid #333;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .mobile-debug-toggle {
            position: fixed;
            top: 10px;
            left: 10px;
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 99999; /* Above all modals */
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .mobile-debug-toggle:hover {
            background: #2980b9;
        }

        /* Only show on mobile screens */
        @media (max-width: 768px) {
            .mobile-debug-console {
                display: block;
            }
            
            .mobile-debug-toggle {
                display: block;
            }
        }

        /* Hide on desktop */
        @media (min-width: 769px) {
            .mobile-debug-console,
            .mobile-debug-toggle {
                display: none !important;
            }
        }

        /* Debug message styling */
        .debug-message {
            margin-bottom: 2px;
            word-wrap: break-word;
        }

        .debug-error {
            color: #ff6b6b;
        }

        .debug-warning {
            color: #feca57;
        }

        .debug-info {
            color: #48cae4;
        }
    </style>
</head>
<body>
    <!-- =================================================================== -->
    <!-- MOBILE DEBUG CONSOLE HTML - Copy this to your project's HTML -->
    <!-- =================================================================== -->
    
    <!-- Mobile Debug Console (only shows on mobile) -->
    <button class="mobile-debug-toggle" onclick="toggleMobileDebug()">üîç Debug</button>
    <div class="mobile-debug-console" id="mobileDebugConsole">
        <div style="color: #ffff00; font-weight: bold; margin-bottom: 5px; border-bottom: 1px solid #333; padding-bottom: 3px;">
            üì± Mobile Debug Console
            <button onclick="copyAllDebugMessages()" style="float: right; background: #28a745; color: white; border: none; padding: 2px 6px; border-radius: 3px; font-size: 8px; cursor: pointer; margin-left: 3px;">Copy All</button>
            <button onclick="clearDebugMessages()" style="float: right; background: #e74c3c; color: white; border: none; padding: 2px 6px; border-radius: 3px; font-size: 8px; cursor: pointer;">Clear</button>
        </div>
        <div id="debugOutput"></div>
    </div>

    <!-- =================================================================== -->
    <!-- DEMO CONTENT (Remove in your project) -->
    <!-- =================================================================== -->
    <div style="padding: 20px; max-width: 600px; margin: 0 auto; font-family: Arial, sans-serif;">
        <h1>üì± Mobile Debug Console Demo</h1>
        <p>This page demonstrates the mobile debug console component.</p>
        
        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0;">
            <h3>üß™ Test the Console:</h3>
            <button onclick="console.log('Test message:', new Date())" style="margin: 5px; padding: 10px; background: #28a745; color: white; border: none; border-radius: 5px;">Log Message</button>
            <button onclick="console.error('Test error:', 'Something went wrong!')" style="margin: 5px; padding: 10px; background: #dc3545; color: white; border: none; border-radius: 5px;">Log Error</button>
            <button onclick="console.log('Object test:', {name: 'John', age: 30})" style="margin: 5px; padding: 10px; background: #007bff; color: white; border: none; border-radius: 5px;">Log Object</button>
        </div>
        
        <div style="background: #e8f4fd; padding: 15px; border-radius: 8px; margin: 20px 0;">
            <h3>üì± Mobile Instructions:</h3>
            <ol>
                <li>Open this page on a mobile device</li>
                <li>Tap the "üîç Debug" button (top-left corner)</li>
                <li>Tap the test buttons above</li>
                <li>Watch the console output in real-time!</li>
            </ol>
        </div>

        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 20px 0;">
            <h3>üíª Desktop View:</h3>
            <p>On desktop (screen width > 768px), the debug console is hidden and you should use regular browser DevTools (F12).</p>
        </div>
    </div>

    <script>
        /* =================================================================== */
        /* MOBILE DEBUG CONSOLE JAVASCRIPT - Copy this to your project's JS */
        /* =================================================================== */
        
        // Mobile Debug Console Variables
        let mobileDebugVisible = false;
        let debugMessages = [];
        const MAX_DEBUG_MESSAGES = 50; // Limit message history

        /**
         * Toggle the mobile debug console visibility
         */
        function toggleMobileDebug() {
            mobileDebugVisible = !mobileDebugVisible;
            const console = document.getElementById('mobileDebugConsole');
            if (console) {
                if (mobileDebugVisible) {
                    console.style.display = 'block';
                    updateDebugOutput();
                } else {
                    console.style.display = 'none';
                }
            }
        }

        /**
         * Add a message to the debug console
         * @param {string} message - The message to add
         * @param {string} type - Message type: 'log', 'error', 'warn', 'info'
         */
        function addDebugMessage(message, type = 'log') {
            const timestamp = new Date().toLocaleTimeString();
            const className = type === 'error' ? 'debug-error' : 
                            type === 'warn' ? 'debug-warning' :
                            type === 'info' ? 'debug-info' : '';
            
            debugMessages.push({
                timestamp,
                message,
                type,
                className
            });
            
            // Limit message history
            if (debugMessages.length > MAX_DEBUG_MESSAGES) {
                debugMessages = debugMessages.slice(-MAX_DEBUG_MESSAGES);
            }
            
            updateDebugOutput();
        }

        /**
         * Update the debug console output display
         */
        function updateDebugOutput() {
            const output = document.getElementById('debugOutput');
            if (output) {
                output.innerHTML = debugMessages.map(msg => 
                    `<div class="debug-message ${msg.className}">[${msg.timestamp}] ${msg.message}</div>`
                ).join('');
                output.scrollTop = output.scrollHeight;
            }
        }

        /**
         * Clear all debug messages
         */
        function clearDebugMessages() {
            debugMessages = [];
            updateDebugOutput();
        }

        /**
         * Copy all debug messages to clipboard
         */
        function copyAllDebugMessages() {
            if (debugMessages.length === 0) {
                alert('No debug messages to copy');
                return;
            }
            
            // Format messages for copying
            const formattedMessages = debugMessages.map(msg => 
                `[${msg.timestamp}] ${msg.type.toUpperCase()}: ${msg.message}`
            ).join('\n');
            
            const headerInfo = [
                'üì± MOBILE DEBUG LOG',
                '='.repeat(50),
                `Generated: ${new Date().toLocaleString()}`,
                `Total Messages: ${debugMessages.length}`,
                `Screen Size: ${window.innerWidth}x${window.innerHeight}`,
                `User Agent: ${navigator.userAgent}`,
                '='.repeat(50),
                ''
            ].join('\n');
            
            const fullLog = headerInfo + formattedMessages;
            
            // Try to copy to clipboard
            if (navigator.clipboard) {
                navigator.clipboard.writeText(fullLog).then(() => {
                    showCopyFeedback('Copy All', true);
                }).catch(() => {
                    fallbackCopyToClipboard(fullLog);
                });
            } else {
                fallbackCopyToClipboard(fullLog);
            }
        }

        /**
         * Fallback copy method for older browsers
         */
        function fallbackCopyToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopyFeedback('Copy All', true);
            } catch (err) {
                showCopyFeedback('Copy All', false);
                console.error('Copy failed:', err);
            }
            
            document.body.removeChild(textArea);
        }

        /**
         * Show visual feedback for copy operations
         */
        function showCopyFeedback(buttonText, success) {
            const button = event.target;
            const originalText = button.textContent;
            const originalBg = button.style.background;
            
            if (success) {
                button.textContent = '‚úÖ Copied!';
                button.style.background = '#27ae60';
            } else {
                button.textContent = '‚ùå Failed';
                button.style.background = '#e74c3c';
            }
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = originalBg;
            }, 2000);
        }

        /**
         * Format arguments for display (handles objects, arrays, etc.)
         */
        function formatDebugArgs(args) {
            return args.map(arg => {
                if (typeof arg === 'object') {
                    try {
                        return JSON.stringify(arg, null, 2);
                    } catch (e) {
                        return String(arg);
                    }
                }
                return String(arg);
            }).join(' ');
        }

        // Override console methods to capture output
        if (typeof window !== 'undefined') {
            // Store original console methods
            const originalConsole = {
                log: console.log,
                error: console.error,
                warn: console.warn,
                info: console.info
            };

            // Override console.log
            console.log = function(...args) {
                originalConsole.log.apply(console, args);
                addDebugMessage(formatDebugArgs(args), 'log');
            };

            // Override console.error
            console.error = function(...args) {
                originalConsole.error.apply(console, args);
                addDebugMessage('ERROR: ' + formatDebugArgs(args), 'error');
            };

            // Override console.warn
            console.warn = function(...args) {
                originalConsole.warn.apply(console, args);
                addDebugMessage('WARN: ' + formatDebugArgs(args), 'warn');
            };

            // Override console.info
            console.info = function(...args) {
                originalConsole.info.apply(console, args);
                addDebugMessage('INFO: ' + formatDebugArgs(args), 'info');
            };
        }

        /* =================================================================== */
        /* DEMO FUNCTIONALITY (Remove in your project) */
        /* =================================================================== */
        
        // Demo: Log some initial messages
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üì± Mobile Debug Console loaded successfully!');
            console.info('Tap the üîç Debug button to toggle console visibility');
            console.log('Screen width:', window.innerWidth + 'px');
            console.log('User agent:', navigator.userAgent.substring(0, 50) + '...');
        });
    </script>
</body>
</html> 